import{j as e,r as N,L as f,t as c}from"./index-BW1v2Y3o.js";import{B as i}from"./index-lZj-UG3P.js";import{I as j}from"./input-B9pFp4AM.js";import{B as q}from"./badge-B4P0SrPl.js";import{C as v,a as F,b as R,c as $,d as b}from"./card-Bb8dNGOw.js";import{T as P,a as G,b as E,c as o,d as Z,e as d}from"./table-DjxPWTM_.js";import{D as V,a as X,b as Q,c as W,d as K,e as Y,f as ee}from"./dialog-CtifNpLo.js";import{D as se,a as ae,b as ie,e as le,d as re,c as w}from"./dropdown-menu-B6SE2GuO.js";import{S as te}from"./switch-YhyiwIE6.js";import{S as C,a as S,b as k,c as D,d as a}from"./select-D2Gb7fMh.js";import{A as ne}from"./avatar-CiTwwk9L.js";import{c as y}from"./createLucideIcon-BIXz2lW7.js";import{a as M,U as H,S as z,C as ce}from"./users-BNpDhR90.js";import{A as oe}from"./arrow-left-C9GuLsQY.js";import{C as de}from"./calendar-DSwk2Pit.js";import{M as me}from"./mail-8B1aJbxS.js";import"./clsx-B-dksMZM.js";import"./index-fdDP8kav.js";import"./index-BvPlwEJa.js";import"./index-BYx5ngvf.js";import"./index-DcUGr25C.js";import"./index-BWVphily.js";import"./index-Bb3g6j3I.js";import"./index-CqIhzmhs.js";import"./check-BMh_iTMB.js";import"./file-D5Y2yJfI.js";/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],B=y("Copy",he);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],pe=y("Link",xe);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ge=y("UserCheck",je);/**
 * @license lucide-react v0.481.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Ne=y("UserX",ue),fe=({members:l,activeMember:m,onMemberClick:g,familyId:h,linkToMemberDetail:n=!1})=>e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx(i,{variant:m===null?"default":"outline",className:m===null?"bg-health-blue":"bg-white",onClick:()=>g(null),children:"All Members"}),l.map(r=>{const t=e.jsxs(i,{variant:m===r.id?"default":"outline",className:`flex items-center gap-2 ${m===r.id?"bg-health-blue":"bg-white"}`,onClick:()=>g(r.id),children:[e.jsx(ne,{className:"h-6 w-6 border",children:e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted text-xs font-medium uppercase",children:r.name.charAt(0)})}),e.jsx("span",{children:r.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",r.relation,")"]})]},r.id);return n&&h?e.jsx(pe,{to:`/families/${h}/members/${r.id}`,children:t},r.id):t}),e.jsxs(i,{variant:"ghost",className:"border border-dashed border-gray-300 text-gray-500",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Add Member"]})]}),ye={1:{name:"Smith Family",members:[{id:101,name:"John Smith",age:42,relation:"Father",bloodType:"O+",height:"180 cm",weight:"78 kg",allergies:["Penicillin"],chronicConditions:["Hypertension"]},{id:102,name:"Mary Smith",age:38,relation:"Mother",bloodType:"A-",height:"165 cm",weight:"62 kg",allergies:["Pollen"],chronicConditions:[]},{id:103,name:"James Smith",age:12,relation:"Son",bloodType:"O+",height:"152 cm",weight:"45 kg",allergies:[],chronicConditions:["Asthma"]},{id:104,name:"Emily Smith",age:8,relation:"Daughter",bloodType:"A+",height:"128 cm",weight:"32 kg",allergies:["Nuts"],chronicConditions:[]}]}},ve=[{id:1,name:"Dr. Wilson",email:"dr.wilson@example.com",role:"Doctor",shared:"Full Family",expiration:"No expiration",status:"Active"},{id:2,name:"Dr. Roberts",email:"dr.roberts@example.com",role:"Dentist",shared:"James Smith",expiration:"2024-12-31",status:"Active"},{id:3,name:"Hospital Records",email:"records@hospital.com",role:"Healthcare Provider",shared:"John Smith",expiration:"2024-08-15",status:"Active"},{id:4,name:"Dr. Thompson",email:"dr.thompson@example.com",role:"Specialist",shared:"Emily Smith",expiration:"2024-09-20",status:"Expired"}],be=()=>{var L;const[l,m]=N.useState(101),[g,h]=N.useState(!1),[n,r]=N.useState(""),[t,_]=N.useState({}),x=ye[1];if(!x)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-2xl mb-4",children:"Family not found"}),e.jsx(i,{asChild:!0,children:e.jsx(f,{to:"/families",children:"Return to Families"})})]});const T=ve.filter(s=>n?s.name.toLowerCase().includes(n.toLowerCase())||s.email.toLowerCase().includes(n.toLowerCase())||s.role.toLowerCase().includes(n.toLowerCase()):!0).filter(s=>{var p;return l===null?!0:s.shared===((p=x.members.find(u=>u.id===l))==null?void 0:p.name)||s.shared==="Full Family"}),O=s=>{m(s)},A=(s,p)=>{const u=`https://familyhealth.example.com/shared/${s}/${p}/${Math.random().toString(36).substring(2,15)}`,J=s==="family"?"family":`member-${p}`;_({...t,[J]:u}),c("Sharing link generated",{description:"Link has been copied to clipboard."}),navigator.clipboard.writeText(u)},U=()=>{c("Share added",{description:"The new share has been added successfully."}),h(!1)},I=s=>{c("Access revoked",{description:"The access has been revoked successfully."})};return e.jsx("div",{className:"min-h-screen flex flex-col",children:e.jsx("div",{className:"flex-grow bg-slate-50",children:e.jsx("div",{className:"container py-6 px-4 sm:px-6 lg:px-8 max-w-6xl",children:e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[e.jsx(f,{to:"/families",className:"hover:text-health-blue",children:"Families"}),e.jsx("span",{children:"/"}),e.jsx(f,{to:"/families/1",className:"hover:text-health-blue",children:x.name}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Share Management"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{variant:"ghost",className:"text-gray-500 -ml-3 mb-2",asChild:!0,children:e.jsxs(f,{to:"/families/1",children:[e.jsx(oe,{className:"mr-1 h-4 w-4"}),"Back to Family"]})}),e.jsxs(V,{open:g,onOpenChange:h,children:[e.jsx(X,{asChild:!0,children:e.jsxs(i,{className:"",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Share Medical Records"]})}),e.jsxs(Q,{className:"sm:max-w-[425px]",children:[e.jsxs(W,{children:[e.jsx(K,{children:"Share Medical Records"}),e.jsx(Y,{children:"Share medical records with healthcare providers or family members"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("label",{className:"text-right text-sm",children:"Name"}),e.jsx(j,{className:"col-span-3",placeholder:"e.g. Dr. Johnson"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("label",{className:"text-right text-sm",children:"Email"}),e.jsx(j,{className:"col-span-3",type:"email",placeholder:"e.g. doctor@example.com"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("label",{className:"text-right text-sm",children:"Role"}),e.jsxs(C,{children:[e.jsx(S,{className:"col-span-3",children:e.jsx(k,{placeholder:"Select role"})}),e.jsxs(D,{children:[e.jsx(a,{value:"doctor",children:"Doctor"}),e.jsx(a,{value:"specialist",children:"Specialist"}),e.jsx(a,{value:"nurse",children:"Nurse"}),e.jsx(a,{value:"family",children:"Family Member"}),e.jsx(a,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("label",{className:"text-right text-sm",children:"Share"}),e.jsxs(C,{children:[e.jsx(S,{className:"col-span-3",children:e.jsx(k,{placeholder:"Select records to share"})}),e.jsxs(D,{children:[e.jsx(a,{value:"full-family",children:"Full Family Records"}),x.members.map(s=>e.jsxs(a,{value:`member-${s.id}`,children:[s.name,"'s Records"]},s.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("label",{className:"text-right text-sm",children:"Expires"}),e.jsxs(C,{children:[e.jsx(S,{className:"col-span-3",children:e.jsx(k,{placeholder:"Select expiration"})}),e.jsxs(D,{children:[e.jsx(a,{value:"never",children:"No expiration"}),e.jsx(a,{value:"7days",children:"7 days"}),e.jsx(a,{value:"30days",children:"30 days"}),e.jsx(a,{value:"90days",children:"90 days"}),e.jsx(a,{value:"1year",children:"1 year"}),e.jsx(a,{value:"custom",children:"Custom date"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("div",{className:"text-right text-sm",children:"Notify"}),e.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[e.jsx(te,{id:"notify"}),e.jsx("label",{htmlFor:"notify",className:"text-sm",children:"Send email notification"})]})]})]}),e.jsx(ee,{children:e.jsx(i,{type:"submit",onClick:U,children:"Share"})})]})]})]})]}),e.jsxs(v,{children:[e.jsxs(F,{className:"pb-3",children:[e.jsxs(R,{className:"text-lg flex items-center",children:[e.jsx(H,{className:"mr-2 h-5 w-5 text-health-blue"}),"Filter by Family Member"]}),e.jsx($,{children:"Select a family member to view their shared records"})]}),e.jsx(b,{children:e.jsx(fe,{members:x.members,activeMember:l,onMemberClick:O})})]}),e.jsxs(v,{children:[e.jsxs(F,{className:"pb-3",children:[e.jsxs(R,{className:"text-lg flex items-center",children:[e.jsx(z,{className:"mr-2 h-5 w-5 text-health-blue"}),"Quick Sharing Links"]}),e.jsx($,{children:"Generate temporary links to share medical records"})]}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-health-blue"}),e.jsx("span",{className:"font-medium",children:"Full Family Records"})]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>A("family",1),children:"Generate Link"})]}),t.family&&e.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 p-2 rounded-md text-sm",children:[e.jsx(j,{value:t.family,readOnly:!0,className:"h-8"}),e.jsx(i,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{navigator.clipboard.writeText(t.family),c("Link copied",{description:"Sharing link copied to clipboard."})},children:e.jsx(B,{className:"h-4 w-4"})})]})]}),l!==null&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5 text-health-blue"}),e.jsxs("span",{className:"font-medium",children:[(L=x.members.find(s=>s.id===l))==null?void 0:L.name,"'s Records"]})]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>A("member",l),children:"Generate Link"})]}),t[`member-${l}`]&&e.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 p-2 rounded-md text-sm",children:[e.jsx(j,{value:t[`member-${l}`],readOnly:!0,className:"h-8"}),e.jsx(i,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{navigator.clipboard.writeText(t[`member-${l}`]),c("Link copied",{description:"Sharing link copied to clipboard."})},children:e.jsx(B,{className:"h-4 w-4"})})]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Active Shares"}),e.jsx("div",{className:"w-64",children:e.jsx(j,{placeholder:"Search shares...",value:n,onChange:s=>r(s.target.value),className:"bg-white"})})]}),e.jsx(v,{children:e.jsx(b,{className:"p-0 overflow-auto",children:T.length>0?e.jsxs(P,{children:[e.jsx(G,{children:e.jsxs(E,{children:[e.jsx(o,{children:"Name"}),e.jsx(o,{children:"Email"}),e.jsx(o,{children:"Role"}),e.jsx(o,{children:"Shared Records"}),e.jsx(o,{children:"Expiration"}),e.jsx(o,{children:"Status"}),e.jsx(o,{className:"text-right",children:"Actions"})]})}),e.jsx(Z,{children:T.map(s=>e.jsxs(E,{children:[e.jsx(d,{className:"font-medium",children:s.name}),e.jsx(d,{children:s.email}),e.jsx(d,{children:s.role}),e.jsx(d,{children:s.shared}),e.jsx(d,{children:e.jsx("div",{className:"flex items-center gap-2",children:s.expiration==="No expiration"?e.jsx("span",{children:"No expiration"}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-3 w-3 text-gray-500"}),e.jsx("span",{children:s.expiration})]})})}),e.jsx(d,{children:e.jsx(q,{className:s.status==="Active"?"bg-green-100 text-green-800 hover:bg-green-100":"bg-gray-100 text-gray-800 hover:bg-gray-100",children:s.status})}),e.jsx(d,{className:"text-right",children:e.jsxs(se,{children:[e.jsx(ae,{asChild:!0,children:e.jsxs(i,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",children:e.jsx("path",{d:"M8.625 2.5C8.625 3.12132 8.12132 3.625 7.5 3.625C6.87868 3.625 6.375 3.12132 6.375 2.5C6.375 1.87868 6.87868 1.375 7.5 1.375C8.12132 1.375 8.625 1.87868 8.625 2.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM8.625 12.5C8.625 13.1213 8.12132 13.625 7.5 13.625C6.87868 13.625 6.375 13.1213 6.375 12.5C6.375 11.8787 6.87868 11.375 7.5 11.375C8.12132 11.375 8.625 11.8787 8.625 12.5Z",fill:"currentColor"})})]})}),e.jsxs(ie,{align:"end",children:[e.jsx(le,{children:"Actions"}),e.jsx(re,{}),e.jsxs(w,{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{c("Email sent",{description:"A reminder email has been sent."})},children:[e.jsx(me,{className:"h-4 w-4"}),"Send Reminder"]}),e.jsxs(w,{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{c("Expiration extended",{description:"The expiration date has been extended."})},children:[e.jsx(ce,{className:"h-4 w-4"}),"Extend Expiration"]}),e.jsxs(w,{className:"flex items-center gap-2 text-destructive cursor-pointer",onClick:()=>I(s.id),children:[e.jsx(Ne,{className:"h-4 w-4"}),"Revoke Access"]})]})]})})]},s.id))})]}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx(z,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"No active shares found"}),e.jsx("p",{className:"text-gray-500",children:n?"Try adjusting your search term":"Share your medical records with healthcare providers"}),!n&&e.jsxs(i,{onClick:()=>h(!0),className:"mt-4 ",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Share Medical Records"]})]})})})]})]})})})})},Xe=function(){return e.jsx(be,{})};export{Xe as component};
